<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Order - Sohanur Construction</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #0d6efd; --dark: #212529; --light: #f8f9fa; }
        body { font-family: 'Roboto', sans-serif; background: #dfe6e9; margin: 0; padding: 20px; color: #333; }
        
        /* Control Panel */
        .no-print-area { 
            max-width: 900px; margin: 0 auto 30px auto; background: #fff; padding: 25px; 
            border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            border-top: 5px solid var(--primary);
        }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .full-width { grid-column: span 3; }
        .input-group { margin-bottom: 12px; }
        label { display: block; font-weight: bold; font-size: 12px; margin-bottom: 5px; color: var(--primary); text-transform: uppercase; }
        input, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; font-family: inherit; transition: 0.3s; }
        input:focus, textarea:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 5px rgba(13, 110, 253, 0.2); }
        
        button.print-btn { 
            background: var(--primary); color: white; border: none; padding: 15px; 
            border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold; width: 100%; margin-top: 15px;
            transition: 0.3s;
        }
        button.print-btn:hover { background: #0b5ed7; }

        /* A4 Page Preview */
        .page {
            width: 210mm; min-height: 297mm; padding: 20mm; margin: 0 auto;
            background: #fff; position: relative; box-sizing: border-box; 
            display: flex; flex-direction: column; box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .header-top { display: flex; justify-content: space-between; border-bottom: 2px solid var(--primary); padding-bottom: 15px; margin-bottom: 20px; }
        .info-box h2 { margin: 0; font-size: 18px; color: var(--primary); text-transform: uppercase; }
        .info-box p { margin: 2px 0; font-size: 12px; line-height: 1.4; color: #555; }
        .role-tag { background: #e7f0ff; color: var(--primary); padding: 2px 8px; border-radius: 4px; font-size: 10px; font-weight: bold; border: 1px solid var(--primary); margin-bottom: 8px; display: inline-block; text-transform: uppercase; }
        
        .doc-title { text-align: center; margin: 10px 0 25px 0; }
        .doc-title h1 { border-bottom: 2px solid var(--dark); font-size: 22px; margin: 0; display: inline-block; padding-bottom: 5px; text-transform: uppercase; letter-spacing: 1px; }

        .section { margin-bottom: 20px; }
        .section-title { font-size: 14px; font-weight: bold; color: var(--primary); margin-bottom: 10px; border-left: 4px solid var(--primary); padding-left: 10px; background: var(--light); padding-top: 5px; padding-bottom: 5px; text-transform: uppercase; }
        .content-box { padding-left: 15px; font-size: 13px; line-height: 1.6; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #dee2e6; padding: 10px; text-align: center; font-size: 13px; }
        th { background: var(--light); color: var(--dark); font-weight: bold; }

        .signature-container { margin-top: auto; display: flex; justify-content: space-between; padding-top: 50px; }
        .sig-box { text-align: center; width: 40%; }
        .sig-line { border-top: 1px solid var(--dark); margin-top: 60px; margin-bottom: 8px; }
        .sig-box p { font-size: 13px; font-weight: bold; margin: 0; color: var(--dark); }

        @media print {
            .no-print-area { display: none; }
            body { background: #fff; padding: 0; }
            .page { box-shadow: none; margin: 0; width: 210mm; height: 297mm; }
        }
    </style>
</head>
<body>

    <div class="no-print-area">
        <h2 style="margin-top:0; color:var(--primary); border-bottom: 2px solid #eee; padding-bottom: 10px;">Work Order Control Panel</h2>
        
        <div class="grid">
            <div class="input-group">
                <label>1. Client/Company Name</label>
                <input type="text" id="c_name" placeholder="Enter name" oninput="updatePreview()">
            </div>
            <div class="input-group">
                <label>2. Client Phone No</label>
                <input type="text" id="c_phone" placeholder="Enter phone" oninput="updatePreview()">
            </div>
            <div class="input-group">
                <label>3. Trade License/Reg No</label>
                <input type="text" id="c_license" placeholder="Enter license" oninput="updatePreview()">
            </div>
            <div class="input-group full-width">
                <label>4. Client Address</label>
                <input type="text" id="c_addr" placeholder="Enter full address" oninput="updatePreview()">
            </div>

            <div class="input-group">
                <label>5. Work Order No</label>
                <input type="text" id="order_no" placeholder="#001" oninput="updatePreview()">
            </div>
            <div class="input-group">
                <label>6. Work Site Address</label>
                <input type="text" id="work_site" placeholder="Site location" oninput="updatePreview()">
            </div>
            <div class="input-group">
                <label>7. Type of Work</label>
                <input type="text" id="work_type" placeholder="e.g. Manpower Supply" oninput="updatePreview()">
            </div>

            <div class="input-group">
                <label>8. Foreman Wage (Daily)</label>
                <input type="number" id="wage_f" placeholder="1200" oninput="updatePreview()">
            </div>
            <div class="input-group">
                <label>9. Mason Wage (Daily)</label>
                <input type="number" id="wage_m" placeholder="900" oninput="updatePreview()">
            </div>
            <div class="input-group">
                <label>10. Helper Wage (Daily)</label>
                <input type="number" id="wage_h" placeholder="700" oninput="updatePreview()">
            </div>

            <div class="input-group full-width">
                <label>11. Payment Terms (New line for each point)</label>
                <textarea id="payment_sys" rows="3" placeholder="Enter payment conditions..." oninput="updatePreview()"></textarea>
            </div>

            <div class="input-group full-width">
                <label>12. General Terms & Conditions (New line for each point)</label>
                <textarea id="terms" rows="4" placeholder="Enter other terms..." oninput="updatePreview()"></textarea>
            </div>
        </div>

        <button class="print-btn" onclick="window.print()">Print Order / Save as PDF</button>
    </div>

    <div class="page">
        <div class="header-top">
            <div class="info-box" style="width: 50%;">
                <span class="role-tag">Work Order Issuer (Client)</span>
                <h2 id="view_c_name">Client Name</h2>
                <p><strong>License/Reg:</strong> <span id="view_c_license">N/A</span></p>
                <p><strong>Address:</strong> <span id="view_c_addr">N/A</span></p>
                <p><strong>Phone:</strong> <span id="view_c_phone">N/A</span></p>
                <p><strong>Order No:</strong> <span id="view_order_no">#000</span></p>
            </div>

            <div class="info-box" style="text-align: right; width: 48%;">
                <span class="role-tag">Service Provider</span>
                <h2>Sohanur Construction & Manpower Solution</h2>
                <p>Proprietor: Md. Sohanur Rahman Sohan</p>
                <p>Naogaon Sadar, Naogaon – 6500</p>
                <p>+8801805-090910, +8801805-090950</p>
                <p style="font-size: 11px;">sohanurconstructionltd@gmail.com</p>
            </div>
        </div>

        <div class="doc-title"><h1>WORK ORDER (MANPOWER SUPPLY)</h1></div>

        <div class="section">
            <div class="section-title">1. WORK LOCATION & DESCRIPTION</div>
            <div class="content-box">
                <p><strong>Site Address:</strong> <span id="view_work_site">N/A</span></p>
                <p><strong>Work Nature:</strong> <span id="view_work_type">N/A</span></p>
            </div>
        </div>

        <div class="section">
            <div class="section-title">2. LABOR WAGE SCHEDULE</div>
            <div class="content-box">
                <table>
                    <thead>
                        <tr>
                            <th>Designation</th>
                            <th>Daily Wage (8 Hours)</th>
                            <th>Overtime (Per Hour)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Foreman</td><td>Tk. <span id="v_f">0</span></td><td>Tk. <span id="o_f">0</span></td></tr>
                        <tr><td>Skilled Mason</td><td>Tk. <span id="v_m">0</span></td><td>Tk. <span id="o_m">0</span></td></tr>
                        <tr><td>Helper / Labor</td><td>Tk. <span id="v_h">0</span></td><td>Tk. <span id="o_h">0</span></td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <div class="section-title">3. PAYMENT TERMS & BENEFITS</div>
            <div class="content-box" id="view_payment_list"></div>
        </div>

        <div class="section">
            <div class="section-title">4. GENERAL TERMS & CONDITIONS</div>
            <div class="content-box">
                <ul id="view_terms_list" style="padding-left:18px; margin:0;"></ul>
            </div>
        </div>

        <p style="text-align:center; font-size:12px; font-weight:bold; margin-top:30px; color: #666;">
            "Both parties have read and agreed to the terms and conditions of this Work Order."
        </p>

        <div class="signature-container">
            <div class="sig-box">
                <div class="sig-line"></div>
                <p id="view_sig_client">Authorized Signature</p>
                <span style="font-size:11px;">Client's Signature & Seal</span>
            </div>
            <div class="sig-box">
                <div class="sig-line"></div>
                <p>Sohanur Construction & Manpower Solution</p>
                <span style="font-size:11px;">Provider's Signature & Seal</span>
            </div>
        </div>
    </div>

    <script>
        function updatePreview() {
            // Client Data Update
            const cName = document.getElementById('c_name').value || "Client Name";
            document.getElementById('view_c_name').innerText = cName;
            document.getElementById('view_sig_client').innerText = cName;
            
            document.getElementById('view_c_phone').innerText = document.getElementById('c_phone').value || "N/A";
            document.getElementById('view_c_license').innerText = document.getElementById('c_license').value || "N/A";
            document.getElementById('view_c_addr').innerText = document.getElementById('c_addr').value || "N/A";
            
            // Work Info Update
            document.getElementById('view_order_no').innerText = document.getElementById('order_no').value || "#000";
            document.getElementById('view_work_site').innerText = document.getElementById('work_site').value || "N/A";
            document.getElementById('view_work_type').innerText = document.getElementById('work_type').value || "N/A";

            // Wage & Overtime Update
            const f = parseFloat(document.getElementById('wage_f').value) || 0;
            const m = parseFloat(document.getElementById('wage_m').value) || 0;
            const h = parseFloat(document.getElementById('wage_h').value) || 0;
            
            document.getElementById('v_f').innerText = f.toLocaleString();
            document.getElementById('v_m').innerText = m.toLocaleString();
            document.getElementById('v_h').innerText = h.toLocaleString();
            
            document.getElementById('o_f').innerText = (f / 8).toFixed(2);
            document.getElementById('o_m').innerText = (m / 8).toFixed(2);
            document.getElementById('o_h').innerText = (h / 8).toFixed(2);

            // Payment List
            const payLines = document.getElementById('payment_sys').value.split('\n');
            let payHtml = '';
            payLines.forEach(line => { if(line.trim() !== "") payHtml += `<p style="margin: 3px 0;">• ${line}</p>`; });
            document.getElementById('view_payment_list').innerHTML = payHtml || "No payment terms defined.";

            // Terms List
            const termLines = document.getElementById('terms').value.split('\n');
            let termHtml = '';
            termLines.forEach(line => { if(line.trim() !== "") termHtml += `<li style="margin-bottom: 5px;">${line}</li>`; });
            document.getElementById('view_terms_list').innerHTML = termHtml || "No general terms defined.";
        }

        // Initialize empty preview
        window.onload = updatePreview;
    </script>
</body>
</html>
